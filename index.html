<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Explicitly configure Tailwind to use 'class' for dark mode
        tailwind.config = {
            darkMode: 'class'
        };
    </script>

    <style>
        /* Custom animation for chat bubble */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .chat-bubble {
            animation: pulse 2s infinite;
        }
        /* Typing animation */
        @keyframes typing {
            0% { content: '.'; }
            33% { content: '..'; }
            66% { content: '...'; }
            100% { content: '.'; }
        }
        .typing::after {
            content: '...';
            display: inline-block;
            width: 20px;
            text-align: left;
            animation: typing 1s infinite;
        }
        /* Fade-in animation for chat overlay */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .chat-overlay {
            animation: fadeIn 0.3s ease-in-out;
        }
    </style>
</head>

<body class="bg-gray-100 font-sans text-gray-800 dark:bg-gray-900 dark:text-gray-200 transition-colors duration-300">
    <!-- Navbar -->
    <nav class="fixed top-0 w-full bg-white dark:bg-gray-800 shadow-md z-10">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-indigo-600 dark:text-indigo-400">Portfolio</h1>
            <div class="flex items-center space-x-6">
                <ul class="flex space-x-6">
                    <li><a href="#home" class="hover:text-indigo-600 dark:hover:text-indigo-400">Home</a></li>
                    <li><a href="#about" class="hover:text-indigo-600 dark:hover:text-indigo-400">About</a></li>
                    <li><a href="#projects" class="hover:text-indigo-600 dark:hover:text-indigo-400">Projects</a></li>
                    <li><a href="#contact" class="hover:text-indigo-600 dark:hover:text-indigo-400">Contact</a></li>
                </ul>
                <button id="theme-toggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700">
                    <svg class="w-6 h-6 text-gray-800 dark:text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path id="sun" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        <path id="moon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen flex items-center bg-gradient-to-r from-indigo-500 to-purple-600 text-white">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Hi, I'm Ayan Chattopadhyay</h1>
            <p class="text-lg md:text-xl mb-6">A passionate developer creating modern, impactful solutions.</p>
            <a href="#contact" class="bg-white text-indigo-600 px-6 py-3 rounded-full font-semibold hover:bg-gray-200 dark:bg-gray-700 dark:text-indigo-400 dark:hover:bg-gray-600">Get in Touch</a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-white dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">About Me</h2>
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-6 md:mb-0">
                    <img src="https://i.ibb.co/VpvQDzpN/Whats-App-Image-2025-03-29-at-17-39-12-a895b810.jpg" alt="Profile" class="rounded-full w-64 h-64 mx-auto object-cover">
                </div>
                <div class="md:w-1/2 md:pl-8">
                    <p class="text-lg mb-4">I’m a 3rd-year BTech CSE student at IEM, graduating in 2027, with strong interests in AI, ML, NLP, and web development. I enjoy building smart, user-focused solutions and have experience with research, hackathons, and academic presentations. I’m skilled in Python, JavaScript, and modern AI tools.</p>
                    <p class="text-lg">Outside tech, I love Indo-Chinese food, drawing, singing, cooking, gaming, and watching Netflix. Let's connect!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-16 bg-gray-100 dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">Some Projects...</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <img src="https://i.ibb.co/8nQSMtkD/images.png" alt="Movie rating" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Movie Review Prediction</h3>
                        <p class="text-gray-600 dark:text-gray-400">Predict movie review sentiment using the IMDB dataset.</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <img src="https://i.ibb.co/cStLYLYx/thumbnail-5.png" alt="Amazon Clone" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Amazon Clone</h3>
                        <p class="text-gray-600 dark:text-gray-400">A clone website of Amazon.</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <img src="https://i.ibb.co/gqdJ0k8/images.jpg" alt="Farming pic" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Krishi Setu</h3>
                        <p class="text-gray-600 dark:text-gray-400">AI solution for yield prediction, disease detection, and multilingual, voice-enabled crop advisory.</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <img src="https://i.ibb.co/cXKkDpPc/download.jpg" alt="Hangman game" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Hangman game</h3>
                        <p class="text-gray-600 dark:text-gray-400">Hangman game using Python</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <img src="https://i.ibb.co/zTj36FMd/2019-10-21-add-images-on-gallery-section.jpg" alt="Gallery pic" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Gallery Website</h3>
                        <p class="text-gray-600 dark:text-gray-400">An aethetic website showing beautiful photos...</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <img src="https://images.pexels.com/photos/392018/pexels-photo-392018.jpeg" alt="Portfolio Website Design" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">Portfolio Site</h3>
                        <p class="text-gray-600 dark:text-gray-400">A modern portfolio showcasing my development skills.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 bg-white dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">Contact Me</h2>
            <div class="max-w-lg mx-auto">
                <div class="mb-4">
                    <label for="name" class="block text-sm font-medium">Name</label>
                    <input type="text" id="name" class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" required>
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium">Email</label>
                    <input type="email" id="email" class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" required>
                </div>
                <div class="mb-4">
                    <label for="message" class="block text-sm font-medium">Message</label>
                    <textarea id="message" class="w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" rows="4" required></textarea>
                </div>
                <button type="button" class="bg-indigo-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-indigo-700 dark:hover:bg-indigo-500">Send Message</button>
            </div>
        </div>
    </section>

    <!-- Chat Bubble -->
    <div id="chat-bubble" class="fixed bottom-4 right-4 bg-indigo-600 text-white p-4 rounded-full shadow-lg cursor-pointer chat-bubble hover:bg-indigo-700 dark:hover:bg-indigo-500 z-20">
        <span>Ask anything about me</span>
    </div>

    <!-- Chatbot Overlay -->
    <div id="chat-overlay" class="chat-overlay fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 hidden flex items-center justify-center p-4 z-50">
        <div class="bg-white dark:bg-gray-800 w-full max-w-md rounded-lg shadow-lg flex flex-col max-h-[80vh]">
            <!-- Chat Header -->
            <div class="flex items-center p-4 border-b dark:border-gray-700">
                <img src="https://i.ibb.co/VpvQDzpN/Whats-App-Image-2025-03-29-at-17-39-12-a895b810.jpg" alt="Profile" class="w-10 h-10 rounded-full object-cover mr-3">
                <h3 class="text-lg font-semibold">Ayan Chattopadhyay</h3>
                <button id="close-chat" class="ml-auto text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <!-- Chat Body -->
            <div id="chat-body" class="flex-1 p-4 overflow-y-auto">
                <div class="chat-message ai-message flex items-start mb-4">
                    <img src="https://i.ibb.co/VpvQDzpN/Whats-App-Image-2025-03-29-at-17-39-12-a895b810.jpg" alt="Profile" class="w-8 h-8 rounded-full object-cover mr-2">
                    <div class="bg-gray-100 dark:bg-gray-700 p-2 rounded-lg">
                        <p>Hi, I am Ayan! Sup?</p>
                    </div>
                </div>
            </div>
            <!-- Chat Input -->
            <div class="p-4 border-t dark:border-gray-700">
                <div class="flex items-center">
                    <input type="text" id="chat-input" class="flex-1 p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" placeholder="Type your message...">
                    <button id="send-message" class="ml-2 bg-indigo-600 text-white p-2 rounded-full hover:bg-indigo-700 dark:hover:bg-indigo-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
  // Import the functions you need from the SDKs you need
  //hositng on https://aiportfolio-5014d.web.app/
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyD4vsYRJvgxDOMN1TeZs4OuU9kh00RQEyE",
    authDomain: "aiportfolio-5014d.firebaseapp.com",
    projectId: "aiportfolio-5014d",
    storageBucket: "aiportfolio-5014d.firebasestorage.app",
    messagingSenderId: "984224542682",
    appId: "1:984224542682:web:9db044f7e679147b431ae3",
    measurementId: "G-07YZW8QD8C"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
        // Variables
        const my_fullname = "Ayan Chattopadhyay";
        const myDescription = "you are a 3rd year BTech Computer Science and Engineering student at the Institute of Engineering and Management (IEM) graduating in 2027. you have a deep passion for technology, particularly in the areas of Artificial Intelligence, Machine Learning, and Web Development. Over the past few semesters, u have worked on a range of interdisciplinary and impactful projects. One of your projects is HealMap, an AI-powered healthcare app that uses an interactive 3D mannequin to help users input symptoms and get diagnostic predictions. It's not completed yet. u have also worked on Event Identification in Text using SpaCy where u explored primitive and static word embeddings like Word2Vec, GloVe, and TF-IDF for NLP-based classification tasks. Other projects include classifying movie reviews using machine learning, a number guessing game using Python, a Hangman game, an Amazon clone website, and a gallery website. In the environmental domain, u contributed to a project involving Satellite NDMI and Deep Percolation Analysis using satellite data to assess water levels near plant roots. Another technical project u are working on is Wavelet-based BERT Embedding Analysis, where u applied Discrete Wavelet Transforms (DWT) to compress and analyze BERT embeddings. u have actively participated in academic events like Pragyan’25 and the IEMTECH conference, where u presented my research on Generative AI. These experiences have helped u polish ur research presentation and technical communication skills. you secured the 3rd prize in the CodeBreakOdyssey Hackathon and was the 2nd finalist in the internal Smart India Hackathon (SIH). ur paper on Generative AI is currently published in IEEE. When preparing for exams, u go all out by creating theory notes, flashcards, and model answers to master every concept. Apart from tech, u am a big fan of Indo-Chinese cuisine. Dishes like spicy hakka noodles and crispy chilli potatoes are your absolute favorites. your hobbies are playing games, drawing, singing, watching Netflix, and cooking.";
        const GEMINI_API_KEY = "AIzaSyCgXLpKNgUtVjuVkJlLGw0fMvBUfaeNG0U";

        // Initialize theme on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const sunIcon = document.getElementById('sun');
            const moonIcon = document.getElementById('moon');
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            } else {
                document.documentElement.classList.remove('dark');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            }
            console.log('Initialized theme:', savedTheme);
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Dark mode toggle
        const themeToggle = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun');
        const moonIcon = document.getElementById('moon');
        themeToggle.addEventListener('click', () => {
            console.log('Theme toggle clicked');
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            sunIcon.classList.toggle('hidden', isDark);
            moonIcon.classList.toggle('hidden', !isDark);
            console.log('Theme set to:', isDark ? 'dark' : 'light');
        });

        // Chatbot functionality
        const chatBubble = document.getElementById('chat-bubble');
        const chatOverlay = document.getElementById('chat-overlay');
        const closeChat = document.getElementById('close-chat');
        const chatBody = document.getElementById('chat-body');
        const chatInput = document.getElementById('chat-input');
        const sendMessage = document.getElementById('send-message');

        function toggleChat() {
            chatOverlay.classList.toggle('hidden');
            chatOverlay.classList.toggle('flex');
            console.log('Chat overlay toggled:', chatOverlay.classList.contains('flex') ? 'visible' : 'hidden');
            if (!chatOverlay.classList.contains('hidden')) {
                chatInput.focus();
            }
        }

        chatBubble.addEventListener('click', toggleChat);
        closeChat.addEventListener('click', toggleChat);

        function addMessage(content, isAI = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isAI ? 'ai-message' : 'user-message'} flex items-start mb-4`;
            if (isAI) {
                messageDiv.innerHTML = `
                    <img src="https://i.ibb.co/VpvQDzpN/Whats-App-Image-2025-03-29-at-17-39-12-a895b810.jpg" alt="Profile" class="w-8 h-8 rounded-full object-cover mr-2">
                    <div class="bg-gray-100 dark:bg-gray-700 p-2 rounded-lg">
                        <p>${content}</p>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="bg-indigo-100 dark:bg-indigo-700 p-2 rounded-lg ml-auto">
                        <p>${content}</p>
                    </div>
                `;
            }
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        function showTyping() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-message ai-message flex items-start mb-4';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <img src="https://i.ibb.co/VpvQDzpN/Whats-App-Image-2025-03-29-at-17-39-12-a895b810.jpg" alt="Profile" class="w-8 h-8 rounded-full object-cover mr-2">
                <div class="bg-gray-100 dark:bg-gray-700 p-2 rounded-lg">
                    <p class="typing"></p>
                </div>
            `;
            chatBody.appendChild(typingDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            return typingDiv;
        }

        async function callGeminiAPI(message) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `User_message:${message}. Reply in a fun casual way to the usermessage and answer only what is asked and if required then answer based on: ${myDescription}. reply in short sentences and to the point.`
                            }]
                        }]
                    })
                });
                if (!response.ok) {
                    throw new Error(`API request failed: ${response.statusText}`);
                }
                const data = await response.json();
                const generatedText = data.candidates[0].content.parts[0].text;
                return generatedText;
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                return "Sorry, something went wrong. Let's try again!";
            }
        }

        sendMessage.addEventListener('click', async () => {
            const message = chatInput.value.trim();
            if (!message) return;
            addMessage(message);
            chatInput.value = '';
            const typingDiv = showTyping();
            const response = await callGeminiAPI(message);
            typingDiv.remove();
            addMessage(response, true);
        });

        chatInput.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                sendMessage.click();
            }
        });
    </script>
</body>
</html>
